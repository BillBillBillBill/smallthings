#coding:utf-8import urllibimport urllib2import redef findword(keyw):    keyw = urllib.quote(keyw.decode('gbk').encode('utf-8'))    # URL编码    url = "http://suggestion.baidu.com/su?wd=%s&json=1" %keyw    keys = {        "Host":"suggestion.baidu.com",        "GET":url,        "Referer":"http://www.baidu.com/",        "User-Agent":"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36"    }    req = urllib2.Request(url)    for key in keys:        req.add_header(key,keys[key])    f=urllib2.urlopen(req).read()    f = f.decode('gbk').encode('utf-8')    # 百度网页蛋疼的gbk编码    find = re.findall("\"(.*?)\"",f)    read = open('data.txt','a+')    # 写入文件    for item in find:        if item == "q":            read.write("关键词:")        elif item == "p":            pass        elif item == "s":            read.write("联想词:")        else:            read.write(item)        read.write("\n")    read.write("\n")    read.close()    print "Finish!"def main():    while True:        keyw=raw_input("Please input keyword(0 to quit):")        if keyw == "0":            break        findword(keyw)main()